------------------------------------------------------------
// test05.c
// Generated by Cobol-to-C compiler from test05.cob.

#include <coblib/cobfunc.h>

// This program is called test-program
// Written on intel486
// Written for intel486
enum {
    _pi__FirstParagraph,
    _pi_start_x,
    _pi_loop_x,
    _pi__NParagraphs,
    _pi__Exit,
    _po__Next = 1
};

static int start_x (void);
static int loop_x (void);


static FILE* card_in UNUSED;

static struct {
    char card_name [36];
    struct {
	char digits_one_to_three [4];
	char digits_four_and_five [3];
	char digits_six_to_nine [5];
    } card_social_security_number;
    char filler000 [37];
} card_in_record UNUSED;

static FILE* print_out UNUSED;

static struct {
    struct {
	char print_one [4];
	char print_two [2];
	char print_three [3];
	char print_four [2];
	char print_five [5];
    } print_social_security_number;
    char space_x [11];
    char print_name [36];
} print_out_record UNUSED;

static void _SetVarValues (void)
{
}

static int _FirstParagraph (void)
{
    return _po__Next;
}

static int start_x (void)
{
start_x: UNUSED
    _OpenSequentialFile (&card_in, "card-reader", "rb");
    _OpenSequentialFile (&print_out, "output-file", "wb");
    return _po__Next;
}

static int loop_x (void)
{
loop_x: UNUSED
    _ReadStringVar (card_in, card_in_record.card_name, "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx");
    _ReadStringVar (card_in, card_in_record.card_social_security_number.digits_one_to_three, "xxx");
    _ReadStringVar (card_in, card_in_record.card_social_security_number.digits_four_and_five, "xx");
    _ReadStringVar (card_in, card_in_record.card_social_security_number.digits_six_to_nine, "xxxx");
    _ReadStringVar (card_in, card_in_record.filler000, "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx");
    fgetc (card_in);
    if (feof (card_in))
    {
	fflush (print_out);
	_CloseSequentialFile (print_out);
	_CloseSequentialFile (card_in);
	return _pi__Exit;
    }
    _AssignVarString (print_out_record.print_social_security_number.print_one, card_in_record.card_social_security_number.digits_one_to_three, 3, 3);
    _AssignVarString (print_out_record.print_social_security_number.print_two, "-", 1, 0);
    _AssignVarString (print_out_record.print_social_security_number.print_three, card_in_record.card_social_security_number.digits_four_and_five, 2, 2);
    _AssignVarString (print_out_record.print_social_security_number.print_four, "-", 1, 0);
    _AssignVarString (print_out_record.print_social_security_number.print_five, card_in_record.card_social_security_number.digits_six_to_nine, 4, 4);
    _AssignVarString (print_out_record.space_x, _space_var, 10, 200);
    _AssignVarString (print_out_record.print_name, card_in_record.card_name, 35, 35);
    _WriteStringVar (print_out, print_out_record.print_social_security_number.print_one, "xxx");
    _WriteStringVar (print_out, print_out_record.print_social_security_number.print_two, "x");
    _WriteStringVar (print_out, print_out_record.print_social_security_number.print_three, "xx");
    _WriteStringVar (print_out, print_out_record.print_social_security_number.print_four, "x");
    _WriteStringVar (print_out, print_out_record.print_social_security_number.print_five, "xxxx");
    _WriteStringVar (print_out, print_out_record.space_x, "xxxxxxxxxx");
    _WriteStringVar (print_out, print_out_record.print_name, "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx");
    fprintf (print_out, "\n");
    _WriteStringVar (stdout, print_out_record.print_social_security_number.print_one, "xxx");
    _WriteStringVar (stdout, print_out_record.print_social_security_number.print_two, "x");
    _WriteStringVar (stdout, print_out_record.print_social_security_number.print_three, "xx");
    _WriteStringVar (stdout, print_out_record.print_social_security_number.print_four, "x");
    _WriteStringVar (stdout, print_out_record.print_social_security_number.print_five, "xxxx");
    _WriteStringVar (stdout, print_out_record.space_x, "xxxxxxxxxx");
    _WriteStringVar (stdout, print_out_record.print_name, "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx");
    printf ("\n");
    goto loop_x;
    return _po__Next;
}

int main (void)
{
    _InstallSignalHandlers();
    _SetVarValues();
    for (long cpi = _pi__FirstParagraph; cpi < _pi__NParagraphs;) {
	switch (cpi) {
	    case _pi__FirstParagraph:	cpi += _FirstParagraph(); break;
	    case _pi_start_x:	cpi += start_x(); break;
	    case _pi_loop_x:	cpi += loop_x(); break;
	    default:	cpi = _pi__Exit; assert (!"abnormal exit"); break;
	}
    }
    return EXIT_SUCCESS;
}
------------------------------------------------------------
456-82-7345          mmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmm
456-82-7345          lllllllllllllllllllllllllllllllllll
456-82-7345          emeememeememeememeememeememeememeem
856-82-7345          88888888888888888888888888888888888
456-82-7345          ttttttttttttttttttttttttttttttttttt
------------------------------------------------------------
